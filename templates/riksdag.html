{% extends "base.html" %}
{% block title %}Riksdag Seating{% endblock %}

{% block content %}
<h1>Riksdag Seating</h1>

<style>
  .riksdag {
    display: flex;
    justify-content: center;
    align-items: flex-end;
    flex-wrap: wrap;
    width: 600px;
    margin: 20px auto;
    transform: rotate(180deg); /* flip for semi-circle look */
  }
  .seat {
    width: 18px;
    height: 18px;
    margin: 2px;
    border-radius: 50%;
    display: inline-block;
  }
</style>

<div class="riksdag">
    {% for party in results %}
        {% for i in range(party.seats) %}
            <span class="seat" style="background-color: #{{ party.color }}"></span>
        {% endfor %}
    {% endfor %}
</div>

<h2>Results</h2>
<ul>
    {% for party in results %}
        <li>
            {{ party.party }}: {{ party.votes }} votes, {{ party.seats }} seats

            {% if g.user and g.user.username == ADMIN_USERNAME %}
                <form action="{{ url_for('admin_delete_party', party_id=party.id) }}"
                      method="POST"
                      style="display:inline"
                      onsubmit="return confirm('Are you sure you want to delete this party?');">
                    <button type="submit" class="bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded">
                        Delete
                    </button>
                </form>
            {% endif %}
            {% if g.user.username == ADMIN_USERNAME %}
                <form method="post" action="{{ url_for('admin_force_government', party_id=party.id) }}">
                     <button type="submit" class="btn btn-warning btn-sm">Force Government</button>
                </form>
             {% endif %}

        </li>
    {% endfor %}
</ul>
{% endblock %}
